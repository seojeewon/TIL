# BOJ10986: 나머지 합
키워드: [`#누적합`](cumulative_sum.md)
## 문제
수 N개 A1, A2, ..., AN이 주어진다. 이때, 연속된 부분 구간의 합이 M으로 나누어 떨어지는 구간의 개수를 구하는 프로그램을 작성하시오.

즉, Ai + ... + Aj (i ≤ j) 의 합이 M으로 나누어 떨어지는 (i, j) 쌍의 개수를 구해야 한다.

## 고민
투 포인터로 풀려고 했으나, 그러면 각 시작점에서(Ai) 가장 짧은 길이의 M으로 나누어 떨어지는 구간만 구할 수 있음.

그렇다고 i번째에서 항상 끝까지 가면 O(n^2)이어서 시간초과 남.

## 해결 과정
`부분 구간의 합`->누적합 문제. 

부분 구간의 합이 M으로 나뉜다는 것은 `(Psum(j) - Psum(i)) % M = 0`

이는 `Psum(j) % M = Psum(i) % M` 으로 변환 가능

1. 입력 받아서 i번째까지의 `누적합` 구하기
   
2. 1번 바탕으로 `i번째까지 누적합의 M으로 나눈 나머지`를 `mod배열`에 저장
   
3. 나머지가 i인 인덱스끼리 만들 수 있는 구간 조합 = mod[i] * (mod[i]-1) / 2
   
4. `mod[0]`은 자체로 답이 될 수 있으므로 `mod[0]`도 결과에 더한다.

참고 </br>
[BOJ - 10986 나머지 합 해결 전략 (C++)](https://velog.io/@junttang/BOJ-10986-%EB%82%98%EB%A8%B8%EC%A7%80-%ED%95%A9-%ED%95%B4%EA%B2%B0-%EC%A0%84%EB%9E%B5-C)